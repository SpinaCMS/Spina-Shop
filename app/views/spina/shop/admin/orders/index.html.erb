<div class="relative" style="margin: -30px -40px 0 -40px">    
  <!-- White bg header -->  
  <div class="bg-white border-b border-gray-200 p-4 md:p-6 md:pl-8 sticky top-0 z-20">
    <div class="flex flex-col md:flex-row justify-between md:items-center">
      <div class="text-2xl font-normal text-gray-700 flex items-center ">
        <%= render_breadcrumbs %>
      </div>
    </div>
  </div>
  
  <div class="flex space-x-3 p-4 py-6 z-20 md:absolute top-0 right-0 md:-top-0.5 md:right-0 h-md:full w-full md:w-auto items-start md:pr-8 justify-end">
    <%= link_to 'Nieuwe bestelling', spina.new_shop_admin_order_path, class: 'btn btn-default' %>
  </div>
  
  <div class="p-8">
    <div class="flex gap-5">
      <div class="flex-1 overflow-scroll">
        <div class="bg-white border border-gray-300 rounded-md divide-y divide-gray-100">
          <div class="flex items-center text-sm font-semibold px-3 py-2 space-x-6">
            <div class="w-4"><%= check_box_tag :all, "all", false, class: 'rounded border-gray-300 shadow-sm hover:border-gray-400 cursor-pointer checked:bg-spina' %></div>
            <div class="w-24">Bestelling</div>
            <div class="flex-1">Klant</div>
            <div class="w-28 text-right">Totaal</div>
            
            <div class="w-24 text-right hidden xl:block">BusBikers</div>
            <div class="w-32 hidden xl:block">Verzending</div>
            
            <div class="w-24"></div>
            <div class="w-28 text-right"></div>
          </div>
          
          <div class="records">
            <%= render collection: @orders, partial: 'spina/shop/admin/orders/order' %>
          </div>
          
          <div class="pagination">
            <%= link_to_next_page @orders, "Next", data: {remote: true} %>
          </div>
        </div>
      </div>
      
      <div class="w-44 flex-shrink-0" data-controller="filter">
        <%= form_with url: spina.shop_admin_orders_path, method: :get, data: {target: "filter.form"} do |f| %>
          <%= button_tag "Filter", type: :submit, class: "hidden", data: {target: "filter.submitButton"} %>
          <div class="font-semibold text-sm text-gray-700 mb-1">Zoekterm</div>
          <%= f.text_field :query, value: params[:query], placeholder: "Search", class: "w-full h-9 border border-gray-400 rounded-lg", data: {action: "input->filter#submit"} %>
          
          <div class="font-semibold text-sm text-gray-700 mb-1 mt-6">Periode</div>
          
          <% ["Elke datum"].each.with_index do |period, index| %>
            <label class="cursor-pointer block py-1.5">
              <%= f.radio_button :date_range, 1, class: 'border-gray-300 hover:border-gray-400 shadow-sm checked:bg-spina', checked: index.zero? %>
              <span class="text-xs font-medium ml-1 align-middle"><%= period %></span>
            </label>
          <% end %>
          
          <div class="font-semibold text-sm text-gray-700 mb-1 mt-6">Status</div>
          
          <% [:confirming, :received, :paid, :preparing, :shipped, :ready_for_pickup, :picked_up, :delivered, :failed, :cancelled, :refunded].each do |status| %>
            <label class="cursor-pointer block py-1.5">
              <%= f.check_box :status, {class: 'border-gray-300 hover:border-gray-400 shadow-sm rounded checked:bg-spina', multiple: true, checked: params[:status]&.include?(status.to_s), data: {action: "filter#submit"}}, status, nil %>
              <span class="text-xs font-medium ml-1 align-middle">
                <%=t "spina.shop.orders.states.#{status}" %>
              </span>
            </label>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
