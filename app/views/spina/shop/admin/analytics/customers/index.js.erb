// Graph render
document.getElementById('analytics_graph').innerHTML = "<canvas id='analytics' height='200'></canvas>"




let context = document.getElementById('analytics').getContext('2d')
let chart = new Chart(context, {
  type: 'bar',
  data: {
    labels: JSON.parse("<%=j @total_orders.map(&:month).to_json.html_safe %>"),
    datasets: [{
      label: "Eerste bestellingen",
      backgroundColor: '#36375a',
      borderColor: '#232343',
      borderWidth: 1,
      data: JSON.parse("<%=j @first_orders.map(&:count).to_json.html_safe %>")
    }, {
      label: "Totale orders",
      backgroundColor: '#6E6BB0',
      hoverBackgroundColor: '#46456E',
      borderColor: '#38375E',
      borderWidth: 1,
      data: JSON.parse("<%=j @total_orders.map(&:count).to_json.html_safe %>")
    }]
  },
  options: {
    legend: false,
    layout: {
      padding: {
        top: 20,
        bottom: 20
      }
    },
    gridLines: {
      yAxes: [{
        display: false
      }]
    },
    scales: {
      xAxes: [{
        stacked: true,
        gridLines: {
          display: false
        }
      }],
      yAxes: [{
        ticks: {
          callback: function(value, index, values) {
            return value
          }
        }
      }]
    }
  }
})